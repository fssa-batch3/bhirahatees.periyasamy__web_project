<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile</title>
    <link rel="stylesheet" href="../../assets/css/style.css" />
    <link rel="stylesheet" href="../../assets/css/responsive_style.css" />
  </head>
  <body>
    <header>
      <div class="navbar">
        <div class="logo-container">
          <a href="../../index.html" class="logo">
            <h1 class="product-logo">Invent</h1>
            <!-- <img src="" class="product-logo"> -->
          </a>
        </div>
      </div>
    </header>
    <section>
      <div class="profile-card">
        <div class="name-card">
          <div class="name-card">
            <label for="username">Name : </label>
            <input type="text" id="name-value" disabled />
          </div>
          <div class="name-card">
            <label for="storename">Shop Name : </label>
            <input type="text" id="shopname-value" disabled />
          </div>
        </div>
        <div class="contact-card">
          <div class="contact-card">
            <label for="contact-email">email : </label>
            <input type="text" id="email-value" disabled />
          </div>
        </div>
        <div class="address-card">
          <div class="contact-card">
            <label for="contact-address">address : </label>
            <input type="text" id="address-value" disabled />
          </div>
        </div>
        <div class="change-card">
          <div class="contact-card">
            <label for="contact-phone">phone : </label>
            <input type="text" id="phone-value" disabled />
          </div>
          <div class="contact-card">
            <button class="pass-value" id="edit-profile">Edit Profile</button>
            <button class="pass-value" id="delete-profile">Delete Profile</button>
          </div>
      </div>
    </section>
  </body>
  <script>
    let data = JSON.parse(window.localStorage.getItem("seller_login"))
    let userEmail = window.localStorage.getItem("userEmail")
    let local = data.find((obj) => obj["email"] === userEmail )
    document.getElementById("name-value").value = local["sellerName"]
    document.getElementById("shopname-value").value = local["storeName"]
    document.getElementById("email-value").value = local["email"]
    document.getElementById("address-value").value = local["address"]
    document.getElementById("phone-value").value = local["phoneNumber"]
    document.getElementById("edit-profile").onclick = ()=>{
      window.location.href = "./edit-profile.html"
    }
   document.getElementById('delete-profile').onclick = () =>{
      let confirm = window.prompt("Do you want to delete your account ?(type in caps)")
      if(confirm === "YES"){
      let rmvData = data.splice(data.indexOf(local),1)
      window.localStorage.setItem("seller_login",JSON.stringify(data))
      window.localStorage.removeItem("userEmail")
      window.location.href = "../../index.html"
    }else{
      alert("confirmation failed")
    }
  }
    
  </script>
</html>


