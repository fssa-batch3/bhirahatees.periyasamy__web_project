<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile</title>
    <link rel="stylesheet" href="../../assets/css/style.css" />
    <link rel="stylesheet" href="../../assets/css/responsive_style.css" />
  </head>
  <body>
    <header>
      <div class="navbar">
        <div class="logo-container">
          <a href="../../index.html" class="logo">
            <h1 class="product-logo">Invent</h1>
            <!-- <img src="" class="product-logo"> -->
          </a>
        </div>
      </div>
    </header>
    <section>
      <div class="profile-card">
        <div class="name-card">
          <div class="name-card">
            <label for="username">Name : </label>
            <input type="text" id="name-value" required />
          </div>
          <div class="name-card">
            <label for="storename">Shop Name : </label>
            <input type="text" id="shopname-value" required />
          </div>
        </div>
        <div class="contact-card">
          <div class="contact-card">
            <label for="contact-email">email : </label>
            <input type="text" id="email-value" required/>
          </div>
        </div>
        <div class="address-card">
          <div class="contact-card">
            <label for="contact-address">address : </label>
            <input type="text" id="address-value" required/>
          </div>
        </div>
        <div class="change-card">
          <div class="contact-card">
            <label for="contact-phone">phone : </label>
            <input type="number" id="phone-value" required/>
          </div>
          <div class="contact-card">
            <label for="contact-address">Change Password</label> 
            <input type="password" pattern=".{8,}" id="pass-value" />
          </div>
         </div>
      <div class="contact-card">
            <button class="edit" id="save">Save</button>
          </div>
    </section>
  </body>
  <script>
    let data = JSON.parse(window.localStorage.getItem("seller_login"))
    let userEmail = window.localStorage.getItem("userEmail")
    let local = data.find((obj) => obj["email"] === userEmail )
    document.getElementById("name-value").value = local["sellerName"]
    document.getElementById("shopname-value").value = local["storeName"]
    document.getElementById("email-value").value = local["email"]
    document.getElementById("address-value").value = local["address"]
    document.getElementById("phone-value").value = local["phoneNumber"]
    document.getElementById("pass-value").value = local["password"]
      document.getElementById("save").onclick = ()=>{
        let obj = new Object()
        obj["storeName"] = document.getElementById("shopname-value").value;
        obj["sellerName"] =  document.getElementById("name-value").value
        obj["email"] =  document.getElementById("email-value").value
        obj["address"] =  document.getElementById("address-value").value
        obj["phoneNumber"] =  document.getElementById("phone-value").value
        obj["password"] =  document.getElementById("pass-value").value
        if(obj["email"] === null){
          return alert("Please Enter the email")
        }else{
         let localData = Object.assign(local,obj)
         let dataIndex = data.indexOf(local)
         console.log(dataIndex)
         data[dataIndex] = localData
         window.localStorage.setItem("seller_login",JSON.stringify(data))
         window.localStorage.setItem("userEmail",obj["email"])
         alert("success fully updated")
         window.location.href = "./seller_profile.html"
        }
      } 
   
    
  </script>
</html>


